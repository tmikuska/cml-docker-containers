id: firefox
sim:
  linux_native:
    driver: ubuntu
    libvirt_domain_driver: docker
    cpus: 1
    ram: 4096
    video:
      memory: 1
    cpu_limit: 100
inherited:
  image:
    ram: true
    cpus: false
    cpu_limit: false
    data_volume: false
    boot_disk_size: false
  node:
    ram: true
    cpus: false
    cpu_limit: false
    data_volume: false
    boot_disk_size: false
general:
  nature: host
  description: Firefox (docker)
  read_only: false
schema_version: 0.0.1
configuration:
  generator:
    driver: null
  provisioning:
    volume_name: cfg
    media_type: raw
    files:
      - name: config.json
        content: |-
          {
            "docker": {
              "image": "firefox:latest",
              "mounts": [
                "type=bind,source=cfg/boot.sh,target=/boot.sh"
              ],
              "misc_args": [
                "--security-opt","seccomp=unconfined"
              ]
            },
            "shell": "/bin/sh",
            "day0cmd": [ "/bin/sh", "/boot.sh" ],
            "busybox": true,
            "vnc": {
              "width": 1280,
              "height": 1024,
              "depth": 24
            }
          }
        editable: false
      - name: boot.sh
        content: |-
          # insert commands here
          # ip address add dev eth1 10.0.0.1/24
          # ip link set dev eth1 up
          exit 0
        editable: true
      - name: environment
        content: |-
          # -- These are understood by the start script
          # -- Homepage to open at start (needs network!)
          # HOME_URL=https://www.cisco.com/go/cml
          # -- Wait additional time for network before starting browser
          # WAIT=2
        editable: true
device:
  interfaces:
    physical:
      - eth0
      - eth1
      - eth2
      - eth3
    has_loopback_zero: false
    default_count: 1
    serial_ports: 2
boot:
  timeout: 30
  completed:
    - READY
  uses_regex: false
ui:
  group: Others
  icon: host
  label: Firefox
  label_prefix: firefox-
  visible: true
